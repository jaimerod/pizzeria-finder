<!-- Base elements -->
<link rel="import" href="/elements/pizza-map.html" />
<link rel="import" href="/lib/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="/lib/paper-drawer-panel/paper-drawer-panel.html" />
<link rel="import" href="/lib/paper-header-panel/paper-header-panel.html" />
<link rel="import" href="/lib/paper-icon-button/paper-icon-button.html" />
<link rel="import" href="/lib/paper-toolbar/paper-toolbar.html" />
<link rel="import" href="/lib/polymer/polymer.html" />

<dom-module id="pizzaria-finder">
  <template>
    <style></style>
    <paper-drawer-panel force-narrow class="flex">
        <paper-header-panel id="app-filters" drawer>
          <paper-toolbar>
            <div class="title">Filters</div>
          </paper-toolbar>
          <div class="content">
            <paper-button on-click="sortRating">Sort By Rating</paper-button>
            <paper-button on-click="sortAlpha">Sort Alphabetically</paper-button>
          </div>
        </paper-header-panel>
        <paper-header-panel mode="waterfall" main>
          <paper-toolbar>
            <paper-icon-button icon="menu" paper-drawer-toggle></paper-icon-button>
            <div class="title">LA Pizzeria Finder</div>
          </paper-toolbar>
          <div class="content">
            <pizza-map></pizza-map>
          </div>
        </paper-header-panel>
      </paper-drawer-panel>
  </template>
  <script>
    Polymer({
      is: 'pizzaria-finder',
      properties: {},
      ready: function () {},
      sortRating: function () {
        var el = this.$$('pizza-map');
        var drawer = this.$$('paper-drawer-panel');

        el.fire('sortRating');
        drawer.closeDrawer();
      },
      sortAlpha: function () {
        var el = this.$$('pizza-map');
        var drawer = this.$$('paper-drawer-panel');

        drawer.closeDrawer();
        el.fire('sortAlpha');
      }
    });
  </script>
</dom-module>